<mat-card *ngIf="!done else doneTemplate" [class.new-additional-card--first-step-height]="stepperIndex === 0"
          class="new-additional-card" credixCard
          fxLayout="column">

  <h1 class="mb-32px">{{titleTag || 'Tarjetas adicionales'}}</h1>

  <credix-stepper #stepper>

    <cdk-step [label]="firstStepperTag || 'Datos personales'" [stepControl]="userInfoFormGroup">
      <app-new-additional-card-first-step [userInfoFormGroup]="userInfoFormGroup"></app-new-additional-card-first-step>
    </cdk-step>

    <cdk-step [label]="secondStepperTag || 'Lugar de retiro'" [stepControl]="pickUpPlaceFormGroup">
      <app-new-additional-card-second-step
        [addressControl]="pickUpPlaceFormGroup.controls.address"></app-new-additional-card-second-step>
    </cdk-step>

    <cdk-step [label]="thirdStepperTag || 'Confirmación'" [stepControl]="confirmFormGroup">
      <app-new-additional-card-third-step
        [confirmFormControl]="confirmFormGroup.controls.credixCode"></app-new-additional-card-third-step>
    </cdk-step>

  </credix-stepper>

  <div class="new-additional-card__footer" fxLayout="row" fxLayoutAlign="flex-end">
    <div fxLayoutGap="16px">
      <credix-button (buttonClick)="back()" text="Atrás" type="secondary"></credix-button>
      <credix-button (buttonClick)="continue()" *ngIf="stepperIndex < 2" [disabled]="disableButton"
                     text="Continuar"></credix-button>
      <credix-button (buttonClick)="openModal()" *ngIf="stepperIndex === 2" [disabled]="disableButton"
                     text="Solicitar"></credix-button>
    </div>
  </div>

</mat-card>

<ng-template #doneTemplate>
  <mat-card class="new-additional-card" credixCard fxLayout="column">
    <h1>Tarjetas adicionales</h1>

    <credix-result-notification [message]="message" [status]="status" [title]="title"
                                class="w-100"
                                fxFlex
                                fxLayoutAlign="center center"></credix-result-notification>

    <div class="report-transference__footer" fxLayout="row" fxLayoutAlign="flex-end">
      <credix-button (buttonClick)="goBack()" text="Listo"></credix-button>
    </div>
  </mat-card>
</ng-template>
