<div fxLayout="row" fxLayoutGap="16px" class="awards__banner-tab">
  <mat-card fxFlex="100" credixCard
    [ngClass]="tab_show ? 'awards__banner-tab__card-progress' : 'awards__banner-tab__card-finalizado' ">
    <h1>Premios</h1>
    <credix-tab (selectionEvent)="tabSelected($event)" [tabs]="tabs"></credix-tab>
    <div *ngIf="tab_show" class="awards__banner-tab__progress-div">
      <h2>¡Complete desafíos y gane con Credix!</h2>
      <p class="awards__banner-tab__progress-div__msg">Siga las instrucciones de cada desafío y al completarlo obtendrá
        un premio. Además, acumule acciones y participe en la rifa de un carro Toyota Rav4.</p>
      <p class="awards__banner-tab__progress-div__p">¡Es hora de ganar!</p>
    </div>
  </mat-card>
</div>

<div
  class="awards__cards"
  *ngIf="userChallenges.json && tab_show">
<ng-container *ngFor="let userChallenge of userChallenges.json; let i = index">
  <mat-card
    credixCard
    *ngIf="!userChallenge.completed"
  ><div fxLayout="row" >
    <div fxFlex="57" class="awards__cards__content">
      <div>
        <h2>{{userChallenge.in_progress_name}}</h2>
        <p class="awards__cards__content__main">{{userChallenge.in_progress_description}}</p>
      </div>
    </div>
    <div fxFlex="43">
      <img src="{{userChallenge.image}}">
    </div>
  </div>
  <div fxLayout="row" class="awards__cards__footer__actions" fxLayoutAlign="space-between center">
    <div *ngIf="!tab_show">
      <credix-progress-bar [goal]="10" [value]="10" label="Meta de transacciones" class="awards__cards__footer__probar"></credix-progress-bar>
    </div>
    <div *ngIf="tab_show">
      <credix-progress-bar [goal]="10" [value]="userChallenge.progress" label="Meta de transacciones" class="awards__cards__footer__probar"></credix-progress-bar>
    </div>
    <credix-link-button (click)="open(i, 'in-progress')" class="awards__cards__footer__details" text="Ver detalle">
    </credix-link-button>
  </div>
</mat-card>
</ng-container>
</div>

<div
  class="awards__cards"
  *ngIf="userChallenges.json && !tab_show">
<ng-container *ngFor="let userChallenge of userChallenges.json; let i = index">
  <mat-card
    credixCard
    *ngIf="userChallenge.completed"
  ><div fxLayout="row">
    <div fxFlex="57" class="awards__cards__content">
      <div>
        <h2>{{userChallenge.completed_name}}</h2>
        <p class="awards__cards__content__main_f">{{userChallenge.completed_description}}</p>
      </div>
    </div>
    <div fxFlex="43">
      <img src="{{userChallenge.image}}">
    </div>
  </div>
  <div fxLayout="row" class="awards__cards__footer__actions" fxLayoutAlign="space-between center">
    <div *ngIf="!tab_show">
      <credix-progress-bar [goal]="10" [value]="10" label="Meta de transacciones" class="awards__cards__footer__probar"></credix-progress-bar>
    </div>
    <credix-link-button (click)="open(i, 'completed')" class="awards__cards__footer__details" text="Ver detalle">
    </credix-link-button>
  </div>
</mat-card>
</ng-container>
</div>

<div *ngIf="!userChallenges.json || !completedItems || !inProgressItems">
<mat-card credixCard fxLayout="column" fxLayoutGap="16px" fxLayoutAlign="center center" *ngIf="!tab_show && !completedItems" class="awards__warning-card-f">
  <mat-icon svgIcon="information-outline" class="awards__warning-icon">
  </mat-icon>
  <p class="awards__warning-msg-f">No ha finalizado ningún premio en este momento.</p>
</mat-card>

<mat-card credixCard fxLayout="column" fxLayoutGap="16px" fxLayoutAlign="center center" *ngIf="tab_show && !inProgressItems" class="awards__warning-card">
  <mat-icon svgIcon="information-outline" class="awards__warning-icon">
  </mat-icon>
  <p class="awards__warning-msg">No tiene premios en este momento.</p>
</mat-card>
</div>
