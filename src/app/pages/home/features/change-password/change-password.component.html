<mat-card class="change-password" credixCard>
  <h1>Cambiar clave</h1>
  <div *ngIf="!showResponse" class="change-password__content">
    <div fxLayout="row" fxLayoutAlign="space-between start">
      <span class="change-password__content__title">Nueva clave</span>
      <div class="tr" fxLayout="column">
        <form [formGroup]="changePasswordForm">
          <credix-input-field [credixPasswordFieldTooltip]="changePasswordForm.controls.password"
                              [type]="hide ? 'password' : 'text'" class="change-password__input"
                              focusLabel="Digite su nueva clave" formControlName="password"
                              label="Digite su nueva clave"
                              panelClass="password-panel" tooltipOffsetY="-213" tooltipType="password">
            <mat-icon (click)="hide = !hide" [svgIcon]="hide ? 'eye-outline' : 'eye-off-outline'" suffix></mat-icon>
          </credix-input-field>

          <credix-input-field [type]="type" class="change-password__input"
                              formControlName="confirmPassword"
                              label="Confirme su nueva clave">
            <mat-icon (click)="hide = !hide; type = hide === true ? 'password': 'text'"
                      [svgIcon]="hide ? 'eye-outline' : 'eye-off-outline'" suffix></mat-icon>
          </credix-input-field>
        </form>
      </div>
    </div>
    <mat-divider></mat-divider>
    <div class="mt-16px" fxLayout="row" fxLayoutAlign="space-between start">
      <div fxLayout="column">
        <span class="change-password__content__title">Código MiCredix</span>
        <span class="change-password__content__msg">Ingrese el código generado en la aplicación
          <credix-link-button
            route="https://play.google.com/store/apps/details?id=com.Mobtion.Credix.Credixcel&hl=es_419">
        Código MiCredix
        <mat-icon style="width: 6px; height: 10px; fill:#239DF7" svgIcon="chevron_right"></mat-icon>
      </credix-link-button>
          </span>
      </div>
      <form [formGroup]="changePasswordForm">
        <credix-code-input [(codeFormControl)]="changePasswordForm.controls.code" [length]="6"
                           class="change-password__code tr"
                           errorMessage="Ingrése código MiCredix">
        </credix-code-input>
      </form>
    </div>
  </div>

  <credix-result-notification *ngIf="showResponse" [message]="respMsg" [status]="resType"
                              [title]="respTitle">
  </credix-result-notification>

  <div class="change-password__content__footer tr">
    <credix-button (buttonClick)="confirm()" *ngIf="!showResponse" [disabled]="changePasswordForm.invalid"
                   text="Confirmar"></credix-button>
    <credix-button (buttonClick)="done()" *ngIf="showResponse" text="Listo"></credix-button>
  </div>
</mat-card>
