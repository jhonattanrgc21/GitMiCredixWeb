<mat-card class="add-favorites-payment">
  <h1>Añadir pago favorito</h1>
  <div *ngIf="!resultFavorites" class="add-favorites-payment__container" fxLayout="row" fxLayoutAlign="space-between">
    <span><strong>Nuevo pago favorito</strong></span>
    <form [formGroup]="newFavoritesPaymentForm" fxLayout="column">

      <credix-select class="add-favorites-payment__input" formControlName="publicServicesCategory" label="Categoría">
        <mat-option *ngFor="let category of publicServicesCategory" [value]="category.publicServiceCategoryId">
          {{category.publicServiceCategory}}
        </mat-option>
      </credix-select>

      <credix-select class="add-favorites-payment__input" formControlName="PublicServiceCompany" label="Compañía">
        <mat-option *ngFor="let company of publicCompany"
                    [value]="company.publicServiceEnterpriseId">
          {{company.publicServiceEnterpriseDescription}}
        </mat-option>
      </credix-select>

      <credix-select class="add-favorites-payment__input" formControlName="publicService" label="Servicio">
        <mat-option *ngFor="let service of publicServices"
                    [value]="service.publicServiceId">
          {{service.publicServiceName}}
        </mat-option>
      </credix-select>

      <credix-input-field class="add-favorites-payment__input"
                          formControlName="phoneNumber" label="Número de teléfono"
                          mask="0000-0000"></credix-input-field>

      <credix-input-field class="add-favorites-payment__input" formControlName="favoriteName"
                          label="Nombre del favorito"></credix-input-field>
    </form>
  </div>

  <mat-divider *ngIf="!resultFavorites" class="mb-8px"></mat-divider>
  <div *ngIf="!resultFavorites" class="add-favorites-payment__credix-code" fxLayout="row" fxLayoutAlign="space-between">
    <div fxFlex="210px" fxLayout="column">
      <span><strong>Código MiCredix</strong></span>
      <p style="font-size: 14px;">Ingrese el código generado en la aplicación
        <credix-link-button>Código MiCredix</credix-link-button>
        <mat-icon style="width: 6px; height: 10px; fill:#239DF7" svgIcon="chevron_right"></mat-icon>
      </p>
    </div>
    <credix-code-input [(codeFormControl)]="codeCredix" [length]="6" class="w-50"
                       errorMessage="Introduzca el codigo de confirmación">
    </credix-code-input>
  </div>

  <div *ngIf="resultFavorites" class="result" fxLayout="column" fxLayoutAlign="center center">
    <credix-result-notification [message]="result.message" [status]="result.status"
                                [title]="result.title"></credix-result-notification>
    <credix-link-button *ngIf="result.status === 'success'">Agregar a pagos automáticos</credix-link-button>
  </div>

  <div class="add-favorites-payment__footer" fxLayout="row" fxLayoutAlign="flex-end">
    <div fxLayoutGap="16px">
      <credix-button (buttonClick)="back()" *ngIf="!resultFavorites" text="Atrás" type="secondary"></credix-button>
      <credix-button (buttonClick)="addFavoritePayment()" *ngIf="!resultFavorites"
                     [disabled]="!newFavoritesPaymentForm.valid || !codeCredix.valid"
                     [text]="'Añadir'"></credix-button>
      <credix-button (buttonClick)="ready()" *ngIf="resultFavorites" [text]="'Listo'"></credix-button>
    </div>
  </div>
</mat-card>
