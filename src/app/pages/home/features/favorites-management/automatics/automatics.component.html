<div *ngIf="data !== undefined" class="automatics" fxLayout="column">

  <div class="mb-8px" fxLayout="row" fxLayoutAlign="space-between">
    <span>Número de contrato</span>
    <span><strong>{{data?.key}}</strong></span>
  </div>

  <div class="mb-20px" fxLayout="row" fxLayoutAlign="space-between"
       fxLayoutGap="16px">
    <span>Compañía</span>
    <span class="truncate" fxFlex><strong>{{data?.publicServiceDescription}}</strong></span>
  </div>

  <form [class.enabled]="isUpdating" [formGroup]="automaticsDetailForm" fxLayout="column" fxLayoutGap="16px">

    <credix-input-field *ngIf="data.alias"
                        [class.enabled]="automaticsDetailControls.favoriteName.dirty"
                        class="automatics__input disabled"
                        formControlName="favoriteName"
                        label="Nombre del favorito"></credix-input-field>

    <credix-input-field *ngIf="data.startDate"
                        [class.enabled]="automaticsDetailControls.maxAmount.dirty"
                        class="automatics__input disabled"
                        formControlName="maxAmount"
                        label="Monto máximo a pagar"
                        mask="separator"></credix-input-field>

    <credix-date-picker *ngIf="data.startDate"
                        [class.enabled]="automaticsDetailControls.startDate.dirty"
                        [startDate]="today"
                        class="automatics__input disabled"
                        formControlName="startDate" label="Fecha inicial de pago"></credix-date-picker>

    <credix-select *ngIf="data.periodicityDescription"
                   class="automatics__input disabled"
                   [class.enabled]="isUpdating"
                   formControlName="periodicity"
                   label="Periocidad">
      <mat-option *ngFor="let periodicity of periodicityList" [value]="periodicity.id">
        {{periodicity.description}}
      </mat-option>
    </credix-select>

    <div class="mt-24px" fxLayout="column">
      <span><strong>Código MiCredix</strong></span>
      <credix-code-input [formControl]="codeCredix" class="automatics__input disabled">
        <span error>Introduzca el código credix.</span>
      </credix-code-input>
    </div>
  </form>
</div>
