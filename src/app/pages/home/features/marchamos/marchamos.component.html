<div 
class="marchamos" 
fxLayout="column">
    <h1 class="marchamos__title">Marchamo</h1>

    <credix-stepper #stepper class="marchamos__stepper">
        <cdk-step [label]="'Consultar'" 
        [stepControl]="consultForm" 
        fxLayout="column" 
        fxLayoutAlign="space-around">

            <div class="marchamos__container">
              <form [formGroup]="consultForm" 
              fxLayout="row"
              class="marchamos__form--step-1" 
              fxLayoutGap="150px">
              <h3 class="marchamos__sub-title">Vehículo a consultar</h3>
              
              <div fxLayout="column" class="marchamos__inputs">
                <mat-form-field appearance="standard">
                  <mat-label>Tipo de vehículo</mat-label>
                  <mat-select formControlName="VehicleType">
                    <mat-option *ngFor="let vehicleTypes of vehicleType" [value]="vehicleTypes.type">
                      {{ vehicleTypes.description}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill" credixTextField onFocusLabel="Placa">
                  <mat-label>
                    Número de placa
                  </mat-label>
                  <label>
                    <input formControlName="plateNumber" matInput type="text" mask="AAAAAAAA">
                  </label>
                </mat-form-field>

              </div>
            
              </form>
              <mat-divider *ngIf="vehicleInformation"></mat-divider>
              <div  *ngIf="vehicleInformation" fxLayout="row" class="marchamos__information" fxLayoutGap="119px">
                  <h3 class="marchamos__sub-title"
                fxFlex="50">Información del vehículo</h3>
                  <div fxLayout="column" fxLayoutGap="64px">
                    <ul class="marchamos__list">
                      <li fxLayoutGap="183px"><label>Propietario</label> <span>Sergio Marquina</span></li>
                      <li fxLayoutGap="277px"><label>Marca</label> <span>Yamaha</span></li>
                      <li fxLayoutGap="315px"><label>Año</label> <span>2012</span></li>
                      <li fxLayoutGap="224px"><label>Períodos adeudados</label> <span>0</span></li>
                      <li fxLayoutGap="207px"><label>Período (s) a pagar</label> <span>2019</span></li>
                    </ul>
                </div>
              </div>

          </div>

            <mat-divider></mat-divider>
            <div class="marchamos__buttons" 
            xLayout="row" fxLayoutAlign="flex-end" fxLayoutGap="16px">

              <credix-button 
              text="Consulta" 
              type="secondary"
              [disabled]="!consultForm.valid"
              (buttonClick)="consult()">
              </credix-button>

              <credix-button  
              (buttonClick)="continue()"
              [disabled]="!consultForm.valid"
              text="Continuar"></credix-button>
            </div>
          </cdk-step>
      
          <cdk-step [label]="'Seguros y. cuotas'" [stepControl]="secureAndCoutesForm" fxLayout="column">

            <div fxLayout="row" class="marchamos__payment-information">
                <label class="marchamos__label-1">Marchamo</label>
                <span class="marchamos__payment-span">Monto al cobro</span>
                  <div class="marchamos__prices" fxLayout="column">
                    <span style="margin-bottom: 4px;">{{ totalMount }}</span>
                    <credix-link-button text="Ver detalles" (click)="showDetail()" ></credix-link-button>
                  </div>
            </div>

            

            <mat-divider></mat-divider>
            <form [formGroup]="secureAndCoutesForm">
                <div fxLayout="row" class="marchamos__payment-information secure">
                  <label class="marchamos__label-2">Seguros opcionales</label> 
                  <div fxLayout="column" style="margin-right: 215px;">
                    <credix-checkbox-button  [checked]="isChecked" [value]="'a'" label="Responsabilidad civil"></credix-checkbox-button>
                    <credix-checkbox-button  [checked]="isChecked" [value]="'b'" label="Asistencia en carretera"></credix-checkbox-button>
                    <credix-checkbox-button  [checked]="isChecked" [value]="'c'" label="Más protección"></credix-checkbox-button>
                    <credix-checkbox-button  label="Todos" (selectedValueChange)="allChecked()"></credix-checkbox-button>
                    
                  </div>
                  <div class="marchamos__prices" fxLayout="column">
                   <span>₡ 8.745,00</span>
                   <span>₡ 3.359,00</span>
                   <span>₡ 7.140,00</span>
                  </div>
                </div>
                <mat-divider></mat-divider>
                <div fxLayout="row" class="marchamos__payment-information secure">
                  <label class="marchamos__label-3">Cuotas</label> 

                  <div fxLayout="column">
                    <div class="marchamos__slider">
                      <credix-slider [(value)]="value" [instructions]="'Deseo dividir este pago en'" [units]="'Cuota'" ></credix-slider>
                    </div>

                      <label class="marchamos__label-4">Comisión</label>

                    <mat-form-field appearance="standard" class="marchamos__select">
                      <mat-label>Deseo pagar la primera cuota en</mat-label>
                      <mat-select formControlName="firstCouteToPayIn">
                        <mat-option *ngFor="let firstCoute of wishPayFirstCouteIn" [value]="firstCoute.value">
                          {{ firstCoute.description}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                    <div class="marchamos__prices" fxLayout="column">
                      <span style="font-size: 24px !important; margin-bottom: 4px;">₡ 114.996,00</span>
                      <credix-link-button text="Ver detalles" (click)="showDetail()" style="margin-bottom: 64px;"></credix-link-button>
                      <span>₡ 10.000,00</span>
                    </div>
                  </div>

                  
              
            </form>
            <mat-divider></mat-divider>
            <div  class="marchamos__buttons" fxLayout="row" fxLayoutAlign="flex-end" fxLayoutGap="16px">
              <credix-button [stepper]="stepper" credixStepperPrevious text="Atras" type="secondary"></credix-button>
              <credix-button (click)="continue()"
                             text="Continuar"></credix-button>
            </div>
          </cdk-step>

     
          
        <cdk-step [label]="'Lugar de retiro'" [stepControl]="pickUpForm">
          <form [formGroup]="pickUpForm" fxLayout="column" class="marchamos__form--step-1" fxLayoutGap="150px">
            <div fxLayout="row" fxLayoutGap="163px" class="marchamos__top-row">
              <h3 class="marchamos__sub-title__first">Correo electrónico</h3>

              <div fxLayout="column" class="marchamos__inputs__first">

                <mat-form-field appearance="standard" credixTextField>
                  <mat-label>
                    Correo registrado
                  </mat-label>
                  <label>
                    <input matInput type="email">
                  </label>
                </mat-form-field>

              </div>
            </div>
            <mat-divider class="marchamos__places-divider"></mat-divider>
            <div fxLayout="row" fxLayoutGap="191px" class="marchamos__bottom-row">
              <h3 class="marchamos__sub-title">Lugar de retiro</h3>

              <div fxLayout="column" class="marchamos__radio-button">
                <credix-radio-button [checked]="false" [value]="1" label="Sucursales Credix" name="a"></credix-radio-button>
                <div class="marchamos__inputs-hidden">
                  <mat-form-field appearance="standard" credixTextField>
                    <mat-label>
                      Seleccione la más cercana
                    </mat-label>
                    <mat-select >
                      <mat-option *ngFor="let  of " [value]="">
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <credix-radio-button [checked]="false" [value]="2" label="Domicilio" name="x"></credix-radio-button>
                <div class="marchamos__inputs-hidden">
                  <mat-form-field appearance="standard" credixTextField>
                    <mat-label>
                      Dirección
                    </mat-label>
                    <label>
                      <input  matInput type="text">
                    </label>
                  </mat-form-field>
                </div>
              </div>
            </div>
            <!-- <mat-divider class="marchamos__divider-footer"></mat-divider>
            <div fxLayout="row" fxLayoutAlign="flex-end" fxLayoutGap="16px" class="marchamos__buttons-footer">
              <credix-button [stepper]="stepper" credixStepperPrevious text="Atras" type="secondary"></credix-button>
              <credix-button (click)="continue()"  text="Continuar">
              </credix-button>
            </div> -->
          </form>
          <mat-divider></mat-divider>
            <div  class="marchamos__buttons" fxLayout="row" fxLayoutAlign="flex-end" fxLayoutGap="16px">
              <credix-button [stepper]="stepper" credixStepperPrevious text="Atras" type="secondary"></credix-button>
              <credix-button (click)="continue()"
                             text="Continuar"></credix-button>
            </div>
        </cdk-step>

          <cdk-step [label]="'Confirmar'" >
            
            <div fxLayout="row" class="marchamos__billing">
              <label>Contacto</label>

              <div class="marchamos__billing-contact" fxLayout="column">
                <span>Sergio Marquina</span>
                <span>sergio.marquina@gmail.com</span>
                <span>8888-8888</span>  
              </div>
            </div>

            <mat-divider></mat-divider>

            <div fxLayout="row" class="marchamos__billing-pickup">
              <label>Lugar de retiro</label>
              <p>Del cruce de Llorente de Tibas, 300 metros Este, Colima, Tibas, San José.</p>
            </div>

            <mat-divider></mat-divider>

            
            <div fxLayout="row" class="marchamos__billing-information">
              <label>Resumen de pago</label>
                      <ul>
                        <li><label>Marchamo</label><span>₡ 114.996,00</span></li>
                        <li><label>Seguros</label><span>₡ 19.244,00</span></li>
                        <li><label>Comisión</label><span>₡ 10.000,00</span></li>
                        <li><label>IVA</label><span>₡ 1.000,00</span></li>
                        <mat-divider></mat-divider>
                        <li><label>Total</label><span>₡ 145.240,00</span></li>
                      </ul>
                  </div>
                       
          
          <mat-divider></mat-divider>
            <form [formGroup]="confirmForm" fxLayout="column">
              
              <credix-code-input
              [(codeFormControl)]="confirmControls.credixCode"
              [length]="6"
              class="w-50"
              errorMessage="Introduzca el codigo de confirmación">
            </credix-code-input>
            </form>

            
            <mat-divider></mat-divider>
            <div fxLayout="row" fxLayoutAlign="flex-end" fxLayoutGap="16px">
              <credix-button [stepper]="stepper" credixStepperPrevious text="Atras" type="secondary"></credix-button>
              <credix-button [stepper]="stepper" credixStepperNext
                             text="Finalizar"></credix-button>
            </div>
          </cdk-step>
        
    </credix-stepper>

</div>