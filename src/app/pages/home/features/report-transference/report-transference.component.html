<mat-card class="report-transference" credixCard fxLayout="column">

  <h1 class="mb-32px">Reportar transferencia</h1>

  <div class="report-transference__content" fxFlex fxLayout="row" fxLayoutAlign="center">

    <span fxFlex="30">Informaci√≥n</span>

    <form [formGroup]="reportTransferenceGroup" fxFlex="70" fxLayout="column" fxLayoutAlign="flex-start flex-end"
          fxLayoutGap="16px">
      <credix-select class="report-transference__input" focusLabel="Banco" formControlName="bank"
                     label="Selecione el banco">
        <mat-option *ngFor="let bank of banks" [value]="bank">
          {{ bank }}
        </mat-option>
      </credix-select>

      <credix-select class="report-transference__input" focusLabel="Moneda" formControlName="currency"
                     label="Seleccione la moneda">
        <mat-option *ngFor="let currency of currencies" [value]="currency.id">
          {{ currency.description}}
        </mat-option>
      </credix-select>

      <credix-input-field class="report-transference__input" formControlName="amount" label="Monto"
                          mask="separator">
      </credix-input-field>

      <credix-input-field (click)="openCalendar()"
                          [displayValue]="reportTransferenceGroup.controls.date.value | dateFormatter: 'alphanumeric'"
                          [readonly]="true"
                          class="report-transference__input calendar" formControlName="date" label="Fecha de pago">
        <mat-icon class="calendar-icon" suffix svgIcon="calendar"></mat-icon>
      </credix-input-field>


      <credix-image-upload (imageChanged)="addVoucher($event)"
                           *ngIf="!this.image" [os]="deviceInfo.os" class="report-transference__image-uploader"
                           label="Agregar comprobante"></credix-image-upload>

      <img *ngIf="this.image" [src]="this.image.file" alt="Reporte de transferencia"
           class="report-transference__image"/>

      <credix-link-button (click)="this.image=null"
                          *ngIf="this.image" text="Eliminar"></credix-link-button>
    </form>

  </div>

  <div class="report-transference__footer" fxLayout="row" fxLayoutAlign="flex-end">
    <credix-button (buttonClick)="send()" [disabled]="reportTransferenceGroup.invalid" text="Enviar"></credix-button>
  </div>

</mat-card>
