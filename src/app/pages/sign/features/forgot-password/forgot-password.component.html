<div class="popups" fxLayout="column" fxLayoutGap="24px">
  <h2>Olvidó contraseña</h2>
  <div fxLayout="row" fxLayoutGap="24px">
    <credix-button (click)="openModal()" text="Olvidé contraseña"></credix-button>
  </div>
</div>

<ng-template #forgotPasswordTemplate>
  <div class="h-100" fxLayout="column" fxLayoutAlign="space-between" fxLayoutGap="18.89px">
    <p class="mt-16px">
      Ingrese los siguientes datos para crear una clave nueva
    </p>

    <form [formGroup]="forgotPassForm" class="credix-forgot-pass-form">
      <mat-form-field appearance="standard" credixTextField onFocusLabel="TipodeIdentificación" style="width: 296px;">
        <mat-label>Tipo de Identificación</mat-label>
        <mat-select formControlName="identType">
          <mat-option *ngFor="let identType of identTypes" [value]="identType.id">
            {{identType.description}}
          </mat-option>
          <!--<mat-option value="1">Prueba 1</mat-option>
          <mat-option value="2">Prueba 2</mat-option>-->
        </mat-select>
        <mat-error *ngIf="
            !f.identType.valid && (f.identType.dirty || f.identType.touched)
          ">
          Seleccione un tipo de identificación
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="standard" credixTextField onFocusLabel="NumerodeIdentificacion" style="width: 296px;">
        <mat-label>Número de Identificación</mat-label>
        <input formControlName="identNumber" matInput [mask]="identMask" />
        <mat-error *ngIf="
            !f.identNumber.valid &&
            (f.identNumber.dirty || f.identNumber.touched)
          ">
          Identificación inválida
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="standard" credixTextField="password" onFocusLabel="Clave" style="width: 296px;">
        <mat-label>Digite su nueva clave</mat-label>
        <input [credixPasswordFieldTooltip]="f.password.errors" formControlName="password"
          [type]="hide ? 'password' : 'text'" matInput />
        <mat-icon (click)="hide = !hide" [svgIcon]="hide ? 'eye-outline' : 'eye-off-outline'" matSuffix></mat-icon>
      </mat-form-field>
      <mat-form-field appearance="standard" credixTextField="password" onFocusLabel="Confirmesuclave"
        style="width: 296px;">
        <mat-label>Confirme su nueva clave</mat-label>
        <input formControlName="confirmPassword" [type]="hide1 ? 'password' : 'text'" matInput />
        <mat-icon (click)="hide1 = !hide1" [svgIcon]="hide1 ? 'eye-outline' : 'eye-off-outline'" matSuffix></mat-icon>
        <mat-error *ngIf="
            f.confirmPassword.errors?.passwordError || f.confirmPassword.invalid
          ">
          Las consraseñas no coinciden
        </mat-error>
      </mat-form-field>
      <p class="credix-forgot-pass-form__codigo-p">Ingrese el código generado en la aplicación <a
          class="credix-forgot-pass-form__codigo-span"
          href="https://play.google.com/store/apps/details?id=com.Mobtion.Credix.Credixcel&hl=es_419">Código MiCredix
          ></a></p>
      <credix-code-input [(codeFormControl)]="f.code" [length]="6" class="w-30" errorMessage="Ingrése código MiCredix">
      </credix-code-input>
      <mat-error *ngIf="showErrorMessage" class="credix-forgot-pass-form__error-label">
        {{message}}
      </mat-error>
    </form>
    <credix-button class="w-100 mt-40px" text="Actualizar clave" [disabled]="forgotPassForm.invalid" (click)="submit()">
    </credix-button>


  </div>
</ng-template>
